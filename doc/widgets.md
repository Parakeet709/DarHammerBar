# Widgets

One or more widgets from below can be added using:

- `addWidgetsPrimaryScreenLeft()`
- `addWidgetsPrimaryScreenRight()`
- `addWidgetsSecondaryScreenLeft()`
- `addWidgetsSecondaryScreenRight()`

## App Launcher

Adds a launcher for the specified app.

**Argument**

- the bundle ID of the app to launch

**Example**

- Add a Chrome launcher

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:appLauncher('com.google.Chrome'),
          })

## App Menu

Adds a launcher button that shows a menu of the specified applications when clicked.

**Argument**

- A table containing the following keys:
  - `appList`: A table (list) of information for the apps to appear in the menu.
    Each element in the list is a table with the following keys
    - `bundleId`: A string that specifies the bundleId of the app to launch
    - `label`: A string with the label to show in the menu
  - `icon`: an optional table that specifies an icon to use for the launcher button.
    Contains one of the following keys:
    - `bundleId`: The bundleId of the app whose icon should be used
    - `imagePath`: The fully qualified path of an image to be used

**Examples**

- Add an app menu with buttons for Safari and the Finder

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:appMenu({
                appList = {
                  { bundleId = 'com.apple.Safari', label = 'Safari' },
                  { bundleId = 'com.apple.finder', label = 'Finder' },
                },
            }),
          })

- Add an app menu that uses the System Preferences icon for the launcher, with buttons for Safari and the Finder

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:appMenu({
                appList = {
                  { bundleId = 'com.apple.Safari', label = 'Safari' },
                  { bundleId = 'com.apple.finder', label = 'Finder' },
                },
                icon = { bundleId = 'com.apple.systempreferences' },
            }),
          })

- Add an app menu that uses the image at `~/myMenuButton.jpg` for the launcher, with buttons for Safari and the Finder

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:appMenu({
                appList = {
                  { bundleId = 'com.apple.Safari', label = 'Safari' },
                  { bundleId = 'com.apple.finder', label = 'Finder' },
                },
                icon = { imagePath = '~/myMenuButton.jpg' },
            }),
          })

## Clock

Adds a simple clock.

**Argument**

- None

**Example**

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:clock(),
          })

## Line Graph

Draws a line graph using numbers generated by a lua function you pass in.

**Argument**

- a table with the following keys:
  - `title`: A string to display above the graph
  - `interval`: The frequency at which to call the supplied command
  - `maxValues`: The maximum number of values to retain in the graph
  - `maxGraphValue`: The highest y-value to use for the graph. Dynamic if omitted
  - `cmd`: A lua function that returns a number

**Example**

- Draw a graph of CPU load and update it every second:

          function getCpuUsage()
            local handle = io.popen('ps -e -o %cpu')
            local result = handle:read('*a')
            handle:close()

            local totalCpu = 0
            for cpu in result:gmatch('[^\n]+') do
              if tonumber(cpu) then
                totalCpu = totalCpu + tonumber(cpu)
              end
            end

            return totalCpu
          end

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:lineGraph({
              title = 'CPU',
              interval = 1,
              maxValues = 100,
              maxGraphValue = nil,
              cmd = getCpuUsage,
            }),
          })

## Text

Displays a string generated by a lua function you pass in.

**Argument**

- a table with the following keys:
  - `title`: A string to display above the value
  - `interval`: The frequency at which to call the supplied command
  - `cmd`: A lua function that returns a number

**Example**

- Show the CPU load every second:

          function getCpuUsage()
            local handle = io.popen('ps -e -o %cpu')
            local result = handle:read('*a')
            handle:close()

            local totalCpu = 0
            for cpu in result:gmatch('[^\n]+') do
              if tonumber(cpu) then
                totalCpu = totalCpu + tonumber(cpu)
              end
            end

            return totalCpu
          end

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:text({
              title = 'CPU',
              interval = 1,
              cmd = getCpuUsage,
            }),
          })

## Xeyes

Adds a pair of eyes that follow your mouse around. I've found this increases my productivity
by about 42%. Inspired by the XWindows program of the same name.

The interval for updating the eyes to follow the mouse is dynamic so you can adjust
the reactivity and potential performance impact.

**Argument**

- a table with the following keys:
  - `minInterval`: The minimum interval used for the dynamic polling frequency
  - `maxInterval`: The maximum interval used for the dynamic polling frequency

**Example**

          spoon.HammerBar:addWidgetsPrimaryScreenLeft({
            spoon.HammerBar.widgets:xeyes({
              minInterval = 0.1,
              maxInterval = 3,
            }),
          })
